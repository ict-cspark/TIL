# Django Live 강의

## 2022년 03월 11일

---

# Git - Git branch

## Git branch

+ 나뭇가지처럼 여러 갈래로 작업 공간을 나누어 독립적으로 작업할 수 있도록 도와주는 Git의 도구
  - 개발을 하다 보면 코드를 여러 개로 복사해야 하는 일이 자주 생기는데, 코드를 통째로 복사하고 나서 원래 코드와는 상관없이 독립적으로 개발을 진행할 수 있도록 도움

### Branch command

#### git branch

> 브랜치 조회, 생성, 삭제 등 브랜치와 관련된 Git 명령어

```bash
# 브랜치 목록 확인
$ git branch

# 원격 저장소의 브랜치 목록 확인
$ git branch -r

# 새로운 브랜치 생성
$ git branch <브랜치 이름>

# 특정 브랜치 삭제
$ git branch -d <브랜치 이름> # 병합된 브랜치만 삭제 가능
$ git branch -D <브랜치 이름> # (주의) 강제 삭제 (병합되지 않은 브랜치도 삭제 가능)
```

#### git switch

> 현재 브랜치에서 다른 브랜치로 `HEAD`를 이동시키는 명령어 

```bash
# 다른 브랜치로 이동
$ git switch <다른 브랜치 이름>

# 브랜치를 새로 생성과 동시에 이동
$ git switch -c <브랜치 이름>

# 반드시 git switch를 하기 전에는 모든 워킹 디렉토리의 파일이 버전 관리가 되고 있는지 확인해야 함
```

#### 브랜치 조회

```bash
# 현재 브랜치의 로그 확인
$ git log --oneline
# 모든 브랜치의 로그 확인
$ git log --online --all
# 브랜치의 로그를 그래프로 표현
$ git log --online --all --graph
```



## Branch Merge

## git merge

+ 분기된 브랜치들을 하나로 합치는 명령어
+ `git merge <합칠 브랜치 이름>`의 형태로 사용합니다.

+ **Merge하기 전에 일단 다른 브랜치를 합치려고 하는, 즉 메인 브랜치로 switch 해야합니다.**

### Merge의 세 종류

#### 1. Fast-Forward

> 브랜치를 병합할 때 마치 빨리감기처럼 브랜치가 가리키는 커밋을 앞으로 이동시키는 것

#### 2. 3-Way Merge (Merge commit)

> - 브랜치를 병합할 때 `각 브랜치의 커밋 두개와 공통 조상 하나`를 사용하여 병합하는 것
> - 두 브랜치에서 `다른 파일` 혹은 `같은 파일의 다른 부분`을 수정했을 때 가능합니다.

#### 3. Merge Conflict

> - 병합하는 두 브랜치에서 `같은 파일의 같은 부분`을 수정한 경우, Git이 어느 브랜치의 내용으로 작성해야 하는지 판단하지 못해 발생하는 충돌(Conflict) 현상
> - 결국은 사용자가 직접 내용을 선택해서 Conflict를 해결해야 합니다.
